<div id="projects-dependencies">
        <h2>Dependencies <div class="right"><button ng-click="showfilters=true"  ng-show="!showfilters">Show filters</button><button ng-click="showfilters=false"  ng-show="showfilters">Hide filters</button></div></h2>
        <div class="smaller">
                <h3 ng-show="showfilters">Project filters</h3>
                <div class="filter-order-container" ng-show="showfilters">
                        <div class="label" style="height:120px;">
                            Filter by:<br/>BU<br/>Project<br/>State<br/>Type<br/>Portfolio
                        </div>
                        <div class="field multiple-select">
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.buname" ng-options="bu.name as bu.name for bu in bus | orderBy: 'name'"></select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.projecttitle" ng-options="p.title as p.title for p in projects | filter:{state: '!Closed'} | orderBy: 'title'"></select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.pstate" ng-init="depsearch.pstate=['Progress']">
                                    <option value="Proposed">Proposed</option>
                                    <option value="Progress">Progress</option>
                                    <option value="Onhold">On hold</option>
                                    <option value="Closed">Closed</option>
                            </select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.ptype">
                                        <option value="Project">Project</option>
                                        <option value="Program">Program</option>
                                        <option value="Product">Product</option>
                            </select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.support" ng-options="bu.name as bu.name for bu in bus | orderBy: 'name'"></select>
                                    
                        </div>
                </div>
                <h3 ng-show="showfilters">Dependencies filters</h3>
                <div class="filter-order-container" ng-show="showfilters">
                        <div class="label" style="height:120px;">
                            Filter by:<br/>Requester<br/>Res. owner<br/>Agreement<br/>Status<br/>Audience
                        </div>
                        <div class="field multiple-select">
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.acname" ng-options="u.name as u.name for u in users | filter: {source: true} | orderBy:'name'"></select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.resname" ng-options="u.name as u.name for u in users | filter: {source: true} | orderBy:'name'" ></select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.agreement">
                                        <option value="None">None</option>
                                        <option value="Conflict">Conflict</option>
                                        <option value="Tentative">Tentative</option>
                                        <option value="Agreed">Agreed</option>
                            </select>
                            <select multiple="multiple" ng-multiple="true" ng-model="depsearch.status">
                                    <option value="Green">Accept</option>
                                    <option value="Yellow">Observe</option>
                                    <option value="Orange">Assist</option>
                                    <option value="Red">Intervent</option>
                                </select>
                                
                                <select multiple="multiple" ng-multiple="true" ng-model="depsearch.audience">
                                    <option value="Project">Project</option>
                                    <option value="Portfolio">Portfolio</option>
                                    <option value="Company">Company</option>
                                </select>
                        </div>
                </div>
            
            <div class="filter-order-container" ng-show="showfilters">
                <div class="label">
                    Order by:
                </div>
                <div class="field">
                    <select ng-model="orderdate" ng-init="orderdate='depdate'">
                        <option value="depdate" selected="selected">Order by Work start</option>
                        
                        <option value="depbuname">Order by Source</option>
                        
                        <option value="projecttitle">Order by Project</option>
                    </select>
                </div>
            </div>
            <div class="overview">
                <table class="tablelist" ng-if="depList.length > 0">
                    <tr class="header">
                        <td>Dependency<br/>Project</td>
                        <td>Source<br/>Request quantum</td>
                        <td>Work start<br/>Agreement</td>
                        <td>Requester<br/>Res. owner</td>
                    </tr>
                    <tr ng-repeat="dep in depList | multiFilter:depsearch | orderBy:orderdate" ng-click="goToDepInProject(dep._id, dep.projectid)"
                        class="link">
                        <td class="{{dep.status}}"><b>{{dep.title}}</b><br/>{{dep.projecttitle}}</td>
                        <td><b>{{dep.depbuname}}</b><br/>{{dep.quantum}}</td>
                        <td><b>{{dep.depdate | date:'longDate'}}</b><br/>{{dep.agreement}}</td>
                        <td><b>{{dep.acname}}</b><br/>{{dep.resname}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

